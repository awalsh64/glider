(window.webpackJsonp=window.webpackJsonp||[]).push([[6,12],{460:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(458);function o(e,t,r){return t+e/254*(r-t)}function l(e,t,r,l){for(var c=[[.18995,.07176,.23217],[.19483,.08339,.26149],[.19956,.09498,.29024],[.20415,.10652,.31844],[.2086,.11802,.34607],[.21291,.12947,.37314],[.21708,.14087,.39964],[.22111,.15223,.42558],[.225,.16354,.45096],[.22875,.17481,.47578],[.23236,.18603,.50004],[.23582,.1972,.52373],[.23915,.20833,.54686],[.24234,.21941,.56942],[.24539,.23044,.59142],[.2483,.24143,.61286],[.25107,.25237,.63374],[.25369,.26327,.65406],[.25618,.27412,.67381],[.25853,.28492,.693],[.26074,.29568,.71162],[.2628,.30639,.72968],[.26473,.31706,.74718],[.26652,.32768,.76412],[.26816,.33825,.7805],[.26967,.34878,.79631],[.27103,.35926,.81156],[.27226,.3697,.82624],[.27334,.38008,.84037],[.27429,.39043,.85393],[.27509,.40072,.86692],[.27576,.41097,.87936],[.27628,.42118,.89123],[.27667,.43134,.90254],[.27691,.44145,.91328],[.27701,.45152,.92347],[.27698,.46153,.93309],[.2768,.47151,.94214],[.27648,.48144,.95064],[.27603,.49132,.95857],[.27543,.50115,.96594],[.27469,.51094,.97275],[.27381,.52069,.97899],[.27273,.5304,.98461],[.27106,.54015,.9893],[.26878,.54995,.99303],[.26592,.55979,.99583],[.26252,.56967,.99773],[.25862,.57958,.99876],[.25425,.5895,.99896],[.24946,.59943,.99835],[.24427,.60937,.99697],[.23874,.61931,.99485],[.23288,.62923,.99202],[.22676,.63913,.98851],[.22039,.64901,.98436],[.21382,.65886,.97959],[.20708,.66866,.97423],[.20021,.67842,.96833],[.19326,.68812,.9619],[.18625,.69775,.95498],[.17923,.70732,.94761],[.17223,.7168,.93981],[.16529,.7262,.93161],[.15844,.73551,.92305],[.15173,.74472,.91416],[.14519,.75381,.90496],[.13886,.76279,.8955],[.13278,.77165,.8858],[.12698,.78037,.8759],[.12151,.78896,.86581],[.11639,.7974,.85559],[.11167,.80569,.84525],[.10738,.81381,.83484],[.10357,.82177,.82437],[.10026,.82955,.81389],[.0975,.83714,.80342],[.09532,.84455,.79299],[.09377,.85175,.78264],[.09287,.85875,.7724],[.09267,.86554,.7623],[.0932,.87211,.75237],[.09451,.87844,.74265],[.09662,.88454,.73316],[.09958,.8904,.72393],[.10342,.896,.715],[.10815,.90142,.70599],[.11374,.90673,.69651],[.12014,.91193,.6866],[.12733,.91701,.67627],[.13526,.92197,.66556],[.14391,.9268,.65448],[.15323,.93151,.64308],[.16319,.93609,.63137],[.17377,.94053,.61938],[.18491,.94484,.60713],[.19659,.94901,.59466],[.20877,.95304,.58199],[.22142,.95692,.56914],[.23449,.96065,.55614],[.24797,.96423,.54303],[.2618,.96765,.52981],[.27597,.97092,.51653],[.29042,.97403,.50321],[.30513,.97697,.48987],[.32006,.97974,.47654],[.33517,.98234,.46325],[.35043,.98477,.45002],[.36581,.98702,.43688],[.38127,.98909,.42386],[.39678,.99098,.41098],[.41229,.99268,.39826],[.42778,.99419,.38575],[.44321,.99551,.37345],[.45854,.99663,.3614],[.47375,.99755,.34963],[.48879,.99828,.33816],[.50362,.99879,.32701],[.51822,.9991,.31622],[.53255,.99919,.30581],[.54658,.99907,.29581],[.56026,.99873,.28623],[.57357,.99817,.27712],[.58646,.99739,.26849],[.59891,.99638,.26038],[.61088,.99514,.2528],[.62233,.99366,.24579],[.63323,.99195,.23937],[.64362,.98999,.23356],[.65394,.98775,.22835],[.66428,.98524,.2237],[.67462,.98246,.2196],[.68494,.97941,.21602],[.69525,.9761,.21294],[.70553,.97255,.21032],[.71577,.96875,.20815],[.72596,.9647,.2064],[.7361,.96043,.20504],[.74617,.95593,.20406],[.75617,.95121,.20343],[.76608,.94627,.20311],[.77591,.94113,.2031],[.78563,.93579,.20336],[.79524,.93025,.20386],[.80473,.92452,.20459],[.8141,.91861,.20552],[.82333,.91253,.20663],[.83241,.90627,.20788],[.84133,.89986,.20926],[.8501,.89328,.21074],[.85868,.88655,.2123],[.86709,.87968,.21391],[.8753,.87267,.21555],[.88331,.86553,.21719],[.89112,.85826,.2188],[.8987,.85087,.22038],[.90605,.84337,.22188],[.91317,.83576,.22328],[.92004,.82806,.22456],[.92666,.82025,.2257],[.93301,.81236,.22667],[.93909,.80439,.22744],[.94489,.79634,.228],[.95039,.78823,.22831],[.9556,.78005,.22836],[.96049,.77181,.22811],[.96507,.76352,.22754],[.96931,.75519,.22663],[.97323,.74682,.22536],[.97679,.73842,.22369],[.98,.73,.22161],[.98289,.7214,.21918],[.98549,.7125,.2165],[.98781,.7033,.21358],[.98986,.69382,.21043],[.99163,.68408,.20706],[.99314,.67408,.20348],[.99438,.66386,.19971],[.99535,.65341,.19577],[.99607,.64277,.19165],[.99654,.63193,.18738],[.99675,.62093,.18297],[.99672,.60977,.17842],[.99644,.59846,.17376],[.99593,.58703,.16899],[.99517,.57549,.16412],[.99419,.56386,.15918],[.99297,.55214,.15417],[.99153,.54036,.1491],[.98987,.52854,.14398],[.98799,.51667,.13883],[.9859,.50479,.13367],[.9836,.49291,.12849],[.98108,.48104,.12332],[.97837,.4692,.11817],[.97545,.4574,.11305],[.97234,.44565,.10797],[.96904,.43399,.10294],[.96555,.42241,.09798],[.96187,.41093,.0931],[.95801,.39958,.08831],[.95398,.38836,.08362],[.94977,.37729,.07905],[.94538,.36638,.07461],[.94084,.35566,.07031],[.93612,.34513,.06616],[.93125,.33482,.06218],[.92623,.32473,.05837],[.92105,.31489,.05475],[.91572,.3053,.05134],[.91024,.29599,.04814],[.90463,.28696,.04516],[.89888,.27824,.04243],[.89298,.26981,.03993],[.88691,.26152,.03753],[.88066,.25334,.03521],[.87422,.24526,.03297],[.8676,.2373,.03082],[.86079,.22945,.02875],[.8538,.2217,.02677],[.84662,.21407,.02487],[.83926,.20654,.02305],[.83172,.19912,.02131],[.82399,.19182,.01966],[.81608,.18462,.01809],[.80799,.17753,.0166],[.79971,.17055,.0152],[.79125,.16368,.01387],[.7826,.15693,.01264],[.77377,.15028,.01148],[.76476,.14374,.01041],[.75556,.13731,.00942],[.74617,.13098,.00851],[.73661,.12477,.00769],[.72686,.11867,.00695],[.71692,.11268,.00629],[.7068,.1068,.00571],[.6965,.10102,.00522],[.68602,.09536,.00481],[.67535,.0898,.00449],[.66449,.08436,.00424],[.65345,.07902,.00408],[.64223,.0738,.00401],[.63082,.06868,.00401],[.61923,.06367,.0041],[.60746,.05878,.00427],[.5955,.05399,.00453],[.58336,.04931,.00486],[.57103,.04474,.00529],[.55852,.04028,.00579],[.54583,.03593,.00638],[.53295,.03169,.00705],[.51989,.02756,.0078],[.50664,.02354,.00863],[.49321,.01963,.00955],[.4796,.01583,.01055]],d=[],i=0;i<255;i++){var label="";0!==i&&64!==i&&128!==i&&192!==i&&254!==i||(label="".concat(Math.round(o(i/254*254,e,t)))),d.push({value:o(i/254*254,r,l),color:Object(n.ColorRGBA)(255*c[i][0],255*c[i][1],255*c[i][2]),label:label})}return d}},461:function(e,t,r){r(4)({target:"Math",stat:!0},{trunc:r(299)})},464:function(e,t,r){var content=r(488);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("a8d890b8",content,!0,{sourceMap:!1})},487:function(e,t,r){"use strict";r(464)},488:function(e,t,r){var n=r(21)(!1);n.push([e.i,".fill[data-v-5767b1e5]{height:80vh;position:absolute}.hide-trajectory[data-v-5767b1e5]{top:-40vh}.hide-temp[data-v-5767b1e5]{top:0}",""]),e.exports=n},538:function(e,t,r){"use strict";r.r(t);var n=r(74),o=(r(35),r(461),r(60),r(3),r(10),r(57),r(71),r(36),r(458)),l=r(460),c={name:"TrajectoryChart",props:{points:{required:!0,type:Array},points2:{required:!0,type:Array},startDate:{required:!0,type:Date},spectrogramTimes:{type:Array,default:function(){return[]}},currentTime:{type:Number,default:-1},hideTemp:{type:Boolean,default:!1},hideTrajectory:{type:Boolean,default:!1},minSoundSpeed:{type:Number,default:1420},maxSoundSpeed:{type:Number,default:1570}},data:function(){return this.chart=null,{legend:void 0,chartId:null,selectedTime:null,spectroTimeMarker:[],lineSeries1:void 0,lineSeries2:void 0,xAxis:null,timeSelectedLine:null,timeSelectedLine2:null,drag:!1,turbo:{}}},watch:{points:function(){this.createColormap(),this.createChart(),this.addLinesToCharts(),this.addTimeMarkers(),this.lineSeries1&&this.addCustomCursor(),this.addSelectedTimeMarker(),this.addLegend()},spectrogramTimes:function(){this.addTimeMarkers(),this.addLegend()},currentTime:function(){var e=this.currentTime-this.startDate.getTime();this.timeSelectedLine&&this.timeSelectedLine.dispose(),this.timeSelectedLine2&&this.timeSelectedLine2.dispose(),this.timeSelectedLine=this.setSelectedTime(this.chart,e),this.timeSelectedLine2=this.setSelectedTime(this.chart2,e),this.addLegend()}},beforeMount:function(){this.chartId=Math.trunc(1e6*Math.random())},mounted:function(){this.createColormap(),this.createChart(),this.addTimeMarkers(),this.addLinesToCharts(),this.lineSeries1&&this.addCustomCursor(),this.addSelectedTimeMarker(),this.addLegend()},beforeUnmount:function(){this.chart.dispose(),this.chart=void 0,this.chart2.dispose(),this.chart2=void 0,this.dashboard.dispose(),this.dashboard=void 0},methods:{createColormap:function(){var e=Object(l.default)(this.minSoundSpeed,this.maxSoundSpeed,this.minSoundSpeed,this.maxSoundSpeed);this.turbo=new o.LUT({units:"m/s",steps:e,interpolate:!1})},createChart:function(){var e=this;this.chart&&(this.chart.dispose(),this.chart=void 0),this.chart2&&(this.chart2.dispose(),this.chart2=void 0),this.dashboard&&(this.dashboard.dispose(),this.dashboard=void 0),this.dashboard=Object(o.lightningChart)().Dashboard({container:"".concat(this.chartId),numberOfRows:2,numberOfColumns:1}),this.chart=this.dashboard.createChartXY({columnIndex:0,rowIndex:0,columnSpan:1,rowSpan:1}).setTitle("Glider Trajectory").setMouseInteractionWheelZoom(!1).setPadding({right:100}),this.chart.getDefaultAxisX().setAnimationScroll(void 0).setTickStrategy(o.AxisTickStrategies.DateTime,(function(t){return t.setDateOrigin(e.startDate)})),this.chart.getDefaultAxisY().setAnimationScroll(void 0).setTitle("Depth (meters)").setInterval(1,-1),this.chart.setAutoCursorMode(o.AutoCursorModes.disabled),this.chart2=this.dashboard.createChartXY({columnIndex:0,rowIndex:1,columnSpan:1,rowSpan:1}).setTitle("Temperature and Salinity").setMouseInteractionWheelZoom(!1),this.chart2.getDefaultAxisX().setTickStrategy(o.AxisTickStrategies.DateTime,(function(t){return t.setDateOrigin(e.startDate)})),this.tempAxis=this.chart2.getDefaultAxisY().setTitle("Temperature (°C)").setTitleFillStyle(new o.SolidFill({color:Object(o.ColorHEX)("#ffff5b")})).setAnimationScroll(void 0),this.salinityAxis=this.chart2.addAxisY({opposite:!0,color:"orange"}).setAnimationScroll(void 0).setTitle("Salinity (PSU)").setTitleFillStyle(new o.SolidFill({color:Object(o.ColorHEX)("#ff9b5b")})).setTickStrategy(o.AxisTickStrategies.Numeric,(function(e){return e.setMinorTickStyle((function(e){return e.setGridStrokeStyle(o.emptyLine)})).setMajorTickStyle((function(e){return e.setGridStrokeStyle(o.emptyLine)}))})),this.chart2.setAutoCursorMode(o.AutoCursorModes.disabled)},addLinesToCharts:function(){var e=this;this.lineSeries1&&(this.lineSeries1.dispose(),this.lineSeries1=void 0),this.lineSeries1=this.chart.addLineSeries({individualLookupValuesEnabled:!0}).setName("Sound Speed").setStrokeStyle((function(style){return style.setThickness(5)})).setStrokeStyle((function(t){return t.setFillStyle(new o.PalettedFill({lookUpProperty:"value",lut:e.turbo}))})).add(this.points),this.lineSeries2&&(this.lineSeries2.dispose(),this.lineSeries2=void 0),this.lineSeries2=this.chart2.addLineSeries().setName("Temperature (°C)").setStrokeStyle((function(style){return style.setThickness(3)})).add(this.points2),this.lineSeries3&&this.lineSeries3.dispose(),this.lineSeries3=this.chart2.addLineSeries({yAxis:this.salinityAxis,automaticColorIndex:2}).setName("Salinity (PSU)").add(this.points2.map((function(e){return{x:e.x,y:e.z}})))},addLegend:function(){this.legend&&(this.legend.dispose(),this.legend=void 0),this.lineSeries1&&(this.legend=this.chart.addLegendBox().setPosition({x:100,y:50}),this.legend.add(this.lineSeries1)),this.spectroTimeMarker.length>0&&this.legend.add(this.spectroTimeMarker[0])},setDrag:function(){this.drag=!0},clickPlot:function(e,line,t){if(this.drag)this.drag=!1;else{var r=Object(o.translatePoint)(e.engine.clientLocation2Engine(t.clientX,t.clientY),e.engine.scale,line.scale);this.selectedTime=r.x;var n=this.plotTimeToDate(this.selectedTime);this.timeSelectedLine&&this.timeSelectedLine.dispose(),this.timeSelectedLine2&&this.timeSelectedLine2.dispose(),this.timeSelectedLine=this.setSelectedTime(this.chart,this.selectedTime),this.timeSelectedLine2=this.setSelectedTime(this.chart2,this.selectedTime),this.addLegend(),this.$emit("date",n)}},setSelectedTime:function(e,time){if(null!==this.selectedTime)return e.getDefaultAxisX().addConstantLine().setValue(time).setName("Selected Time").setMouseInteractions(!1).setStrokeStyle(new o.SolidLine({thickness:2,fillStyle:new o.SolidFill({color:Object(o.ColorHEX)("#FF00FF")})}))},addCustomCursor:function(){var e=this;this.charts=[this.chart,this.chart2];var t=[this.lineSeries1,this.lineSeries2,this.lineSeries3],r=this.charts.map((function(e){return e.getDefaultAxisX()}));o.synchronizeAxisIntervals.apply(void 0,Object(n.a)(r));var l=this.dashboard.addUIElement(o.UILayoutBuilders.Column,this.dashboard.engine.scale).setMouseInteractions(!1).setOrigin(o.UIOrigins.LeftBottom).setMargin(5).setBackground((function(t){return t.setFillStyle(e.dashboard.getTheme().resultTableFillStyle).setStrokeStyle(e.dashboard.getTheme().resultTableStrokeStyle)})),c=o.UIElementBuilders.TextBox.addStyler((function(t){return t.setTextFillStyle(e.dashboard.getTheme().resultTableTextFillStyle)})),d=l.addElement(o.UILayoutBuilders.Row).addElement(c),h=t.map((function(){return l.addElement(o.UILayoutBuilders.Row).addElement(c)})),m=l.addElement(o.UILayoutBuilders.Row).addElement(c),S=l.addElement(o.UILayoutBuilders.Row).addElement(c),f=this.charts[1].getDefaultAxisX().addCustomTick().setAllocatesAxisSpace(!1),T=[];this.charts.forEach((function(e,i){1!==i&&T.push(e.getDefaultAxisX().addConstantLine().setValue(0).setMouseInteractions(!1).setStrokeStyle(e.getTheme().customTickGridStrokeStyle))}));var y=[];y[0]=this.charts[0].getDefaultAxisY().addCustomTick().setAllocatesAxisSpace(!1),y[1]=this.charts[1].getDefaultAxisY().addCustomTick().setAllocatesAxisSpace(!1),y[2]=this.salinityAxis.addCustomTick().setAllocatesAxisSpace(!1);var x=function(e){e?(l.restore(),f.restore(),y.forEach((function(e){return e.restore()})),T.forEach((function(e){return e.restore()}))):(l.dispose(),f.dispose(),y.forEach((function(e){return e.dispose()})),T.forEach((function(e){return e.dispose()})))};x(!1),this.charts.forEach((function(r,i){var n=r.getDefaultAxisX();r.onSeriesBackgroundMouseMove((function(c,k){var v={x:k.clientX,y:k.clientY},A=r.engine.clientLocation2Engine(v.x,v.y),L=t.map((function(e){return e.solveNearestFromScreen(A)}));if(L.includes(void 0))x(!1);else{var M=L[i].location,C=Object(o.translatePoint)(M,t[i].scale,e.dashboard.engine.scale);l.setPosition({x:C.x,y:A.y}),M.x>n.getInterval().end/1.5?l.setOrigin(o.UIOrigins.RightBottom):l.setOrigin(o.UIOrigins.LeftBottom),d.setText("Time: ".concat(e.chart2.getDefaultAxisX().formatValue(L[i].location.x)));var D=["Depth","Temp","Salinity"],I=["m","°C","PSU"];h.forEach((function(t,i){var r=i;i>1&&(r=1),t.setText("".concat(D[i],": ").concat(e.charts[r].getDefaultAxisY().formatValue(L[i].location.y)," ").concat(I[i]))})),m.setText("Sound Speed: ".concat(e.charts[0].getDefaultAxisY().formatValue(L[i].location.value)," m/s")),S.setText("File: "+L[i].location.file),f.setValue(L[i].location.x),T.forEach((function(e){e.setValue(f.getValue())})),y.forEach((function(e,i){e.setValue(L[i].location.y)})),x(!0)}})),r.onSeriesBackgroundMouseLeave((function(){x(!1)})),r.onSeriesBackgroundMouseDragStart((function(){x(!1)}))}))},addTimeMarkers:function(){if(this.spectroTimeMarker){for(var i=0;i<this.spectroTimeMarker.length;i++)this.spectroTimeMarker[i].dispose(),this.spectroTimeMarker[i]=void 0;this.spectroTimeMarker=[]}for(var e=0;e<this.spectrogramTimes.length;e++){var t=this.spectrogramTimes[e].startDate-this.startDate;this.spectroTimeMarker[e]=this.chart.getDefaultAxisX().addConstantLine().setValue(t).setName("Acoustic Time").setMouseInteractions(!1).setStrokeStyle(new o.SolidLine({thickness:2,fillStyle:new o.SolidFill({color:Object(o.ColorRGBA)(0,255,255,150)})})),this.spectroTimeMarker[e+this.spectrogramTimes.length]=this.chart2.getDefaultAxisX().addConstantLine().setValue(t).setName("Acoustic Time").setMouseInteractions(!1).setStrokeStyle(new o.SolidLine({thickness:2,fillStyle:new o.SolidFill({color:Object(o.ColorRGBA)(0,255,255,150)})}))}},addSelectedTimeMarker:function(){var e=this,t=this.plotTimeToDate(this.selectedTime);this.timeSelectedLine=this.setSelectedTime(this.chart,t),this.timeSelectedLine2=this.setSelectedTime(this.chart2,t),this.chart.onSeriesBackgroundMouseUp((function(t,r){e.clickPlot(e.chart,e.lineSeries1,r)})),this.chart2.onSeriesBackgroundMouseUp((function(t,r){e.clickPlot(e.chart2,e.lineSeries2,r)})),this.chart.onSeriesBackgroundMouseDrag((function(){e.setDrag()})),this.chart2.onSeriesBackgroundMouseDrag((function(){e.setDrag()}))},plotTimeToDate:function(e){return new Date(e+this.startDate.getTime())}}},d=(r(487),r(93)),component=Object(d.a)(c,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"fill",class:{"hide-trajectory":e.hideTrajectory,"hide-temp":e.hideTemp},attrs:{id:e.chartId}})}),[],!1,null,"5767b1e5",null);t.default=component.exports}}]);